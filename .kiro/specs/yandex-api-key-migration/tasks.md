# Implementation Plan

- [x] 1. Обновить YandexClient для использования API-key заголовка
  - Изменить формат заголовка авторизации с `Authorization: Bearer` на `Api-Key`
  - Убедиться что токен передается без дополнительных префиксов
  - _Requirements: 1.1, 1.2, 1.3_

- [x] 1.1 Написать unit тест для проверки формата заголовков
  - **Property 1: API-key header format**
  - **Validates: Requirements 1.1, 1.2**

- [x] 2. Обновить документацию и примеры конфигурации
  - Обновить `.env.example` с комментариями о формате API-key
  - Обновить README с инструкциями по получению API-key
  - Обновить документацию в `docs/` если есть упоминания токена
  - _Requirements: 3.1, 3.2, 3.3_

- [x] 3. Локальное тестирование
  - Запустить существующие тесты для проверки совместимости
  - Выполнить тестовый запрос к API с новым токеном
  - Проверить что все методы YandexClient работают корректно
  - _Requirements: 1.4_

- [x] 3.1 Написать property-based тест для обратной совместимости
  - **Property 2: Backward compatibility of API methods**
  - **Validates: Requirements 1.4**

- [x] 4. Подготовить скрипт деплоя
  - Обновить или создать скрипт для обновления токена на сервере
  - Добавить проверку успешности деплоя
  - _Requirements: 2.3_

- [x] 5. Выполнить деплой на сервер
  - Загрузить обновленный код на сервер
  - Обновить переменную окружения YANDEX_TOKEN
  - Перезапустить сервис через PM2
  - _Requirements: 2.1, 2.2_

- [x] 6. Checkpoint - Проверить работу на сервере
  - Проверить логи на наличие ошибок авторизации
  - Убедиться что синхронизация остатков работает
  - Убедиться что получение заказов работает
  - Ensure all tests pass, ask the user if questions arise.
  - _Requirements: 2.2_
