# –ß–µ–∫–ª–∏—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ M2 Middleware

**–ö–†–ò–¢–ò–ß–ù–û:** –û–¥–∏–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π —à–∞–≥ = –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–±–æ–∏—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤! üö®

---

## üìã –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–†–û–í–ï–†–ö–ò –ü–ï–†–ï–î –ó–ê–ü–£–°–ö–û–ú

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ –∏ Campaign ID

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat .env
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```env
MS_TOKEN=c5076f4f532c0639dd4ab9473732c1fa68afb9d4  ‚úÖ (–≤–∞—à –∞–∫—Ç—É–∞–ª—å–Ω—ã–π)
YANDEX_CAMPAIGN_ID=XXXXXX                          ‚ö†Ô∏è  –¢–û–õ–¨–ö–û M2!
YANDEX_TOKEN=y0_...                                ‚ö†Ô∏è  –¢–û–õ–¨–ö–û M2!
```

**–ö–†–ò–¢–ò–ß–ù–û:**
- [ ] `YANDEX_CAMPAIGN_ID` = Campaign ID –º–∞–≥–∞–∑–∏–Ω–∞ M2 (–ù–ï M1!) - **–≠–¢–û –ì–õ–ê–í–ù–û–ï!**
- [ ] `YANDEX_TOKEN` = —Ç–æ–∫–µ–Ω –º–∞–≥–∞–∑–∏–Ω–∞ M2 (–ù–ï M1!)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –¥–≤–∞–∂–¥—ã —á—Ç–æ —ç—Ç–æ –∏–º–µ–Ω–Ω–æ M2!
- [ ] Campaign ID - —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è –∏–∑–æ–ª—è—Ü–∏–∏ M1 –∏ M2!

---

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞–ø–ø–∏–Ω–≥–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –º–∞–ø–ø–∏–Ω–≥–∞
head -20 data/product-mappings.json
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```json
{
  "version": "1.0",
  "lastUpdated": "2025-12-05T...",
  "mappings": {
    "product-id-1": "offerId-M2-1",
    "product-id-2": "offerId-M2-2"
  }
}
```

**–ö–†–ò–¢–ò–ß–ù–û:**
- [ ] –í –º–∞–ø–ø–∏–Ω–≥–µ –¢–û–õ–¨–ö–û —Ç–æ–≤–∞—Ä—ã –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ M2
- [ ] –ù–µ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ M1
- [ ] offerId –º–æ–≥—É—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å M1 - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ (Campaign ID —Ä–∞–∑–¥–µ–ª—è–µ—Ç –º–∞–≥–∞–∑–∏–Ω—ã)

---

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏ –∫–æ–¥–∞

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–æ–¥ –ù–ï —á–∏—Ç–∞–µ—Ç product.offerId
grep -r "product\.offerId" src/
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: –ù–ï–¢ –°–û–í–ü–ê–î–ï–ù–ò–ô ‚úÖ
```

**–ö–†–ò–¢–ò–ß–ù–û:**
- [ ] –ù–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π `product.offerId` –≤ –∫–æ–¥–µ
- [ ] Middleware –ù–ï —Ç—Ä–æ–≥–∞–µ—Ç –ø–æ–ª–µ offerId –≤ –ú–æ–π–°–∫–ª–∞–¥

---

### 4. –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (–ë–ï–ó —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã
bash run-all-tests.sh
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤:    10
–ü—Ä–æ–π–¥–µ–Ω–æ:        10
–ü—Ä–æ–≤–∞–ª–µ–Ω–æ:       0
‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û!
```

**–ö–†–ò–¢–ò–ß–ù–û:**
- [ ] –í—Å–µ 10 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω—ã
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫

---

## üöÄ –ü–û–®–ê–ì–û–í–´–ô –ó–ê–ü–£–°–ö

### –®–∞–≥ 1: –ò–º–ø–æ—Ä—Ç CSV —Å –º–∞–ø–ø–∏–Ω–≥–æ–º

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –∑–∞–ø–æ–ª–Ω–∏—Ç–µ CSV:

```bash
# 1. –ü–æ–ª–æ–∂–∏—Ç–µ CSV –≤ data/products-export.csv
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–º–ø–æ—Ä—Ç
node scripts/import-csv-mapping.js
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ
cat data/product-mappings.json | grep -c "\".*\":"
```

---

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞–ø–ø–∏–Ω–≥–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤—Ä—É—á–Ω—É—é
head -50 data/product-mappings.json
```

**–£–±–µ–¥–∏—Ç–µ—Å—å:**
- [ ] offerId —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç M2
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –º–∞–ø–ø–∏–Ω–≥–µ
- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ

---

### –®–∞–≥ 3: –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ (–ë–ï–ó webhook)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
node src/server.js
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
```
‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –∑–∞–≥—Ä—É–∂–µ–Ω: XXX —Ç–æ–≤–∞—Ä–æ–≤
‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000
‚úÖ Cron jobs –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
```

**–ù–ï –í–ö–õ–Æ–ß–ê–ô–¢–ï webhook –≤ –ú–æ–π–°–∫–ª–∞–¥ –ø–æ–∫–∞!**

---

### –®–∞–≥ 4: –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
node -e "
const StockService = require('./src/services/stockService');
const MoySkladClient = require('./src/api/moySkladClient');
const YandexClient = require('./src/api/yandexClient');
const MapperService = require('./src/services/mapperService');
const ProductMappingStore = require('./src/storage/productMappingStore');
const OrderMappingStore = require('./src/storage/orderMappingStore');

(async () => {
  const productStore = new ProductMappingStore();
  await productStore.load();
  
  const orderStore = new OrderMappingStore();
  await orderStore.load();
  
  const moySkladClient = new MoySkladClient();
  const yandexClient = new YandexClient();
  const mapperService = new MapperService(moySkladClient, productStore, orderStore);
  
  await mapperService.loadMappings();
  
  // –í–æ–∑—å–º–∏—Ç–µ –æ–¥–∏–Ω product.id –∏–∑ –º–∞–ø–ø–∏–Ω–≥–∞
  const productIds = mapperService.getAllProductIds();
  const testProductId = productIds[0];
  
  console.log('–¢–µ—Å—Ç–æ–≤—ã–π product.id:', testProductId);
  
  const offerId = mapperService.mapProductIdToOfferId(testProductId);
  console.log('–ú–∞–ø–ø–∏–Ω–≥ offerId:', offerId);
  
  // –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —ç—Ç–æ offerId –∏–∑ M2!
  console.log('‚ö†Ô∏è  –ü–†–û–í–ï–†–¨–¢–ï: —ç—Ç–æ offerId –∏–∑ M2?');
})();
"
```

**–ö–†–ò–¢–ò–ß–ù–û:**
- [ ] offerId —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ–≤–∞—Ä—É –≤ M2
- [ ] –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ–∫–∞!

---

### –®–∞–≥ 5: –¢–µ—Å—Ç–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (1 —Ç–æ–≤–∞—Ä)

**–í–ù–ò–ú–ê–ù–ò–ï:** –≠—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤ –Ø–Ω–¥–µ–∫—Å M2!

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è 1 —Ç–æ–≤–∞—Ä–∞
node test-single-product-sync.js
```

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `test-single-product-sync.js`:
```javascript
require('dotenv').config();
const StockService = require('./src/services/stockService');
const MoySkladClient = require('./src/api/moySkladClient');
const YandexClient = require('./src/api/yandexClient');
const MapperService = require('./src/services/mapperService');
const ProductMappingStore = require('./src/storage/productMappingStore');
const OrderMappingStore = require('./src/storage/orderMappingStore');

(async () => {
  try {
    const productStore = new ProductMappingStore();
    await productStore.load();
    
    const orderStore = new OrderMappingStore();
    await orderStore.load();
    
    const moySkladClient = new MoySkladClient();
    const yandexClient = new YandexClient();
    const mapperService = new MapperService(moySkladClient, productStore, orderStore);
    
    await mapperService.loadMappings();
    
    const stockService = new StockService(moySkladClient, yandexClient, mapperService);
    
    // –í–æ–∑—å–º–∏—Ç–µ –û–î–ò–ù product.id –¥–ª—è —Ç–µ—Å—Ç–∞
    const productIds = mapperService.getAllProductIds();
    const testProductId = productIds[0];
    
    console.log('üß™ –¢–µ—Å—Ç–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è 1 —Ç–æ–≤–∞—Ä–∞');
    console.log('product.id:', testProductId);
    
    const offerId = mapperService.mapProductIdToOfferId(testProductId);
    console.log('offerId M2:', offerId);
    
    console.log('\n‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: –°–µ–π—á–∞—Å –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –†–ï–ê–õ–¨–ù–´–ô –∑–∞–ø—Ä–æ—Å –≤ –Ø–Ω–¥–µ–∫—Å M2!');
    console.log('Campaign ID:', process.env.YANDEX_CAMPAIGN_ID);
    console.log('\n–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (Ctrl+C –¥–ª—è –æ—Ç–º–µ–Ω—ã, Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è)');
    
    await new Promise(resolve => {
      process.stdin.once('data', resolve);
    });
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å
    await stockService.handleStockUpdate(testProductId);
    
    console.log('\n‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à—ë–Ω! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ M2 —á—Ç–æ –æ—Å—Ç–∞—Ç–æ–∫ –æ–±–Ω–æ–≤–∏–ª—Å—è');
    
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞:', error.message);
    process.exit(1);
  }
})();
```

**–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:**
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ M2 —á—Ç–æ –æ—Å—Ç–∞—Ç–æ–∫ –æ–±–Ω–æ–≤–∏–ª—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∑–∞–ø—Ä–æ—Å –ù–ï –ø–æ–ø–∞–ª –≤ M1
- [ ] –ï—Å–ª–∏ –≤—Å—ë –æ–∫ - –ø—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ

---

### –®–∞–≥ 6: –í–∫–ª—é—á–µ–Ω–∏–µ webhook (–û–°–¢–û–†–û–ñ–ù–û!)

**–¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞!**

1. –ó–∞–π–¥–∏—Ç–µ –≤ –ú–æ–π–°–∫–ª–∞–¥ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –í–µ–±—Ö—É–∫–∏
2. –°–æ–∑–¥–∞–π—Ç–µ webhook –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤:
   - URL: `https://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä.com/webhook/moysklad`
   - –°–æ–±—ã—Ç–∏—è: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
   - –ú–µ—Ç–æ–¥: POST

3. **–ö–†–ò–¢–ò–ß–ù–û:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

---

### –®–∞–≥ 7: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–≤—ã—Ö —á–∞—Å–æ–≤

```bash
# –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏
tail -f logs/combined.log
```

**–ß—Ç–æ —Å–º–æ—Ç—Ä–µ—Ç—å:**
- ‚úÖ Webhook –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –¢–æ–≤–∞—Ä—ã –±–µ–∑ –º–∞–ø–ø–∏–Ω–≥–∞ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è
- ‚úÖ –û—Å—Ç–∞—Ç–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ M2
- ‚ùå –ù–ï–¢ –æ—à–∏–±–æ–∫ 401/403 (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω)
- ‚ùå –ù–ï–¢ –æ—à–∏–±–æ–∫ —Å Campaign ID

---

## üö® –ß–¢–û –î–ï–õ–ê–¢–¨ –ï–°–õ–ò –ß–¢–û-–¢–û –ü–û–®–õ–û –ù–ï –¢–ê–ö

### –û—à–∏–±–∫–∞: "Campaign not found"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Campaign ID

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Campaign ID –≤ `.env`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —ç—Ç–æ Campaign ID M2
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

---

### –û—à–∏–±–∫–∞: "Unauthorized" (401)

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `.env`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —ç—Ç–æ —Ç–æ–∫–µ–Ω M2
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

---

### –¢–æ–≤–∞—Ä –æ–±–Ω–æ–≤–∏–ª—Å—è –≤ M1 –≤–º–µ—Å—Ç–æ M2

**–ö–†–ò–¢–ò–ß–ù–û!** –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
2. –û—Ç–∫–ª—é—á–∏—Ç–µ webhook –≤ –ú–æ–π–°–∫–ª–∞–¥
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Campaign ID - —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ —É–∫–∞–∑–∞–Ω M1!
4. –ò—Å–ø—Ä–∞–≤—å—Ç–µ `.env`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Campaign ID = M2
6. –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Å–Ω–æ–≤–∞

---

## ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –ß–ï–ö–õ–ò–°–¢

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω:

- [ ] –¢–æ–∫–µ–Ω –ú–æ–π–°–∫–ª–∞–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ)
- [ ] Campaign ID M2 —É–∫–∞–∑–∞–Ω –≤ `.env`
- [ ] –¢–æ–∫–µ–Ω M2 —É–∫–∞–∑–∞–Ω –≤ `.env`
- [ ] –ú–∞–ø–ø–∏–Ω–≥ –∑–∞–ø–æ–ª–Ω–µ–Ω –∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã (10/10)
- [ ] –¢–µ—Å—Ç–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è 1 —Ç–æ–≤–∞—Ä–∞ —É—Å–ø–µ—à–Ω–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –≤ M2 —á—Ç–æ –æ—Å—Ç–∞—Ç–æ–∫ –æ–±–Ω–æ–≤–∏–ª—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —á—Ç–æ M1 –ù–ï –∑–∞—Ç—Ä–æ–Ω—É—Ç
- [ ] Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
2. –û—Ç–∫–ª—é—á–∏—Ç–µ webhook
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ª–æ–≥–∏
4. –û–ø–∏—à–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É

---

**–Ø —Å –≤–∞–º–∏! –í—Å—ë –±—É–¥–µ—Ç —Ö–æ—Ä–æ—à–æ!** üí™

–°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∏–∑–æ–ª—è—Ü–∏–µ–π. –°–ª–µ–¥—É–π—Ç–µ —á–µ–∫–ª–∏—Å—Ç—É –∏ –≤—Å—ë –ø—Ä–æ–π–¥—ë—Ç –≥–ª–∞–¥–∫–æ.

**–£–¥–∞—á–∏!** üöÄ
