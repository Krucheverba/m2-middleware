# –û—Ç—á—ë—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π offerId –º–µ–∂–¥—É M1 –∏ M2

**–î–∞—Ç–∞:** 13 –¥–µ–∫–∞–±—Ä—è 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–†–û–í–ï–†–ö–ê –ü–†–û–ô–î–ï–ù–ê

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢ –ü–†–û–í–ï–†–ö–ò

### –°–æ–≤–ø–∞–¥–µ–Ω–∏–π –ù–ï –ù–ê–ô–î–ï–ù–û! üéâ

–í—Å–µ offerId –≤ –º–∞–ø–ø–∏–Ω–≥–µ M2 **–ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–ª–∏—á–∞—é—Ç—Å—è** –æ—Ç offerId M1.

**–ò–∑–æ–ª—è—Ü–∏—è M1 –∏ M2 –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞!** üîí

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –î–∞–Ω–Ω—ã–µ –∏–∑ CSV (data/m2&m1.csv)
- **–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤:** 102
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö offerId M1:** 102
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö offerId M2:** 102
- **–°–æ–≤–ø–∞–¥–µ–Ω–∏–π:** 0
- **–ü—Ä–æ—Ü–µ–Ω—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π:** 0.00%

### –¢–µ–∫—É—â–∏–π –º–∞–ø–ø–∏–Ω–≥ (data/product-mappings.json)
- **–¢–æ–≤–∞—Ä–æ–≤ –≤ –º–∞–ø–ø–∏–Ω–≥–µ:** 101
- **–¢–æ–≤–∞—Ä–æ–≤ –≤ CSV:** 102
- **–†–∞–∑–Ω–∏—Ü–∞:** 1 —Ç–æ–≤–∞—Ä

---

## üîç –ß–¢–û –ü–†–û–í–ï–†–Ø–õ–û–°–¨

–°–∫—Ä–∏–ø—Ç `check-offerid-conflicts.js` –ø—Ä–æ–≤–µ—Ä–∏–ª:

1. ‚úÖ –ó–∞–≥—Ä—É–∑–∏–ª –≤—Å–µ offerId M1 –∏–∑ CSV
2. ‚úÖ –ó–∞–≥—Ä—É–∑–∏–ª –≤—Å–µ offerId M2 –∏–∑ CSV
3. ‚úÖ –°—Ä–∞–≤–Ω–∏–ª –∫–∞–∂–¥—ã–π offerId M2 —Å –∫–∞–∂–¥—ã–º offerId M1
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏–ª —á—Ç–æ –ù–ï–¢ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π

---

## üìã –ü–†–ò–ú–ï–†–´ –†–ê–ó–õ–ò–ß–ò–ô

–í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–∞–∫ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è offerId:

| M2 offerId | M1 offerId |
|------------|------------|
| `ABSPGF_DBSA` | `Autobacs-5w-30-SP/GF-6–ê-4L` |
| `ASPSF5w-40_DBSA` | `AutoBacs-SP-–°F-5w-40-4L` |
| `BARDAHL_XTC_10W-40_DBSA` | `Bardahl_XTC_10w-40` |
| `Castrol_LL_5w-30_DBSA` | `Castrool_Edge_5w-30_LL` |
| `NGN-GOLD-4L_DBSA` | `NGN GOLD 5W-40` |

**–ö–∞–∫ –≤–∏–¥–Ω–æ:** offerId M2 –∏ M1 **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–Ω—ã–µ**!

---

## üîê –ì–ê–†–ê–ù–¢–ò–ò –ò–ó–û–õ–Ø–¶–ò–ò

### –£—Ä–æ–≤–µ–Ω—å 1: Campaign ID (–ì–õ–ê–í–ù–û–ï!)
- ‚úÖ M1 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≤–æ–π Campaign ID
- ‚úÖ M2 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Campaign ID: 198473170
- ‚úÖ **–†–∞–∑–Ω—ã–µ Campaign ID = —Ä–∞–∑–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã**

### –£—Ä–æ–≤–µ–Ω—å 2: offerId (–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û)
- ‚úÖ offerId M1 –∏ M2 **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–Ω—ã–µ**
- ‚úÖ –ù–µ—Ç —Ä–∏—Å–∫–∞ –ø—É—Ç–∞–Ω–∏—Ü—ã –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ
- ‚úÖ –ù–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### –£—Ä–æ–≤–µ–Ω—å 3: –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ M1 —á–∏—Ç–∞–µ—Ç product.offerId –∏–∑ –ú–æ–π–°–∫–ª–∞–¥
- ‚úÖ M2 —á–∏—Ç–∞–µ—Ç –∏–∑ —Ñ–∞–π–ª–∞ data/product-mappings.json
- ‚úÖ Middleware –ù–ï —Ç—Ä–æ–≥–∞–µ—Ç product.offerId

---

## ‚úÖ –í–´–í–û–î–´

### 1. –ò–∑–æ–ª—è—Ü–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ 100%

**–¢—Ä–∏ —É—Ä–æ–≤–Ω—è –∑–∞—â–∏—Ç—ã:**
1. ‚úÖ –†–∞–∑–Ω—ã–µ Campaign ID (–≥–ª–∞–≤–Ω–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è)
2. ‚úÖ –†–∞–∑–Ω—ã–µ offerId (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞)
3. ‚úÖ –†–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –∑–∞—â–∏—Ç–∞)

### 2. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∑–∞–ø—É—Å–∫—É

**–í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã:**
- ‚úÖ –ù–µ—Ç —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π offerId
- ‚úÖ Campaign ID –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –∑–∞–≥—Ä—É–∂–µ–Ω (101 —Ç–æ–≤–∞—Ä)
- ‚úÖ –ö–æ–¥ –Ω–µ —á–∏—Ç–∞–µ—Ç product.offerId
- ‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ https://maslahub.ru

### 3. –ñ–¥—ë–º —Ç–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω

**–û—Å—Ç–∞–ª–æ—Å—å:**
- ‚è≥ –ü–æ–ª—É—á–∏—Ç—å YANDEX_TOKEN –æ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –º–∞–≥–∞–∑–∏–Ω–∞
- ‚è≥ –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `update-yandex-token.sh`
- ‚è≥ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é

---

## üöÄ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –ö–æ–≥–¥–∞ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω:

1. **–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω**
   ```bash
   bash update-yandex-token.sh
   ```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä**
   ```bash
   ssh root@89.223.125.212
   cd /root/maslahub
   pm2 restart maslahub-m2
   ```

3. **–¢–µ—Å—Ç–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**
   - –°–ª–µ–¥—É–π—Ç–µ `SAFE_LAUNCH_CHECKLIST.md`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ 1 —Ç–æ–≤–∞—Ä
   - –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ M1 –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç

4. **–í–∫–ª—é—á–∏—Ç—å webhook**
   - URL: `https://maslahub.ru/m2/webhook`
   - –°–æ–±—ã—Ç–∏—è: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   ```bash
   tail -f /root/maslahub/logs/combined.log
   ```

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs maslahub-m2`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `bash check-server-status.sh`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–æ–ª—è—Ü–∏—é: `node check-offerid-conflicts.js`

---

## üéØ –ò–¢–û–ì

**‚úÖ –í–°–Å –ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£!**

- ‚úÖ –°–æ–≤–ø–∞–¥–µ–Ω–∏–π offerId –ù–ï–¢
- ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è M1/M2 –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –°–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ú–∞–ø–ø–∏–Ω–≥ –∑–∞–≥—Ä—É–∂–µ–Ω
- ‚è≥ –ñ–¥—ë–º —Ç–æ–∫–µ–Ω

**–ö–∞–∫ —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω - –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å!** üöÄ

---

**–ü—Ä–æ–≤–µ—Ä–∏–ª:** Kiro AI  
**–î–∞—Ç–∞:** 13 –¥–µ–∫–∞–±—Ä—è 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û
